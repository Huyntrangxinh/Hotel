@model HotelBooking.Models.LoginViewModel
@{
    ViewData["Title"] = "Đăng nhập";
}

<section class="auth-hero py-5">
    <div class="container min-vh-100 d-flex align-items-center">
        <div class="auth-card bg-white w-100 p-4 p-md-5 mx-auto">
            <div class="mb-4">
                <h3 class="fw-bold mb-0">Sign in</h3>
            </div>

            @if (TempData["success"] != null)
            {
                <div class="alert alert-success">@TempData["success"]</div>
            }

            <div asp-validation-summary="ModelOnly" class="alert alert-danger d-none" role="alert"></div>

            <form asp-action="Login" method="post" asp-route-returnUrl="@ViewBag.ReturnUrl" class="auth-form">
                @Html.AntiForgeryToken()

                <div class="mb-3">
                    <label asp-for="Email" class="form-label small text-muted">Email Address</label>
                    <input asp-for="Email" class="form-control form-control-lg auth-input" />
                    <span class="text-danger small" asp-validation-for="Email"></span>
                </div>

                <div class="mb-3">
                    <label asp-for="Password" class="form-label small text-muted">Password</label>
                    <div class="position-relative">
                        <input asp-for="Password" class="form-control form-control-lg auth-input pe-5" />
                        <button type="button"
                            class="btn btn-link p-0 position-absolute end-0 top-50 translate-middle-y me-3 text-muted toggle-pass"
                            data-target="Password">
                            <i class="bi bi-eye-slash"></i>
                        </button>
                    </div>
                    <span class="text-danger small" asp-validation-for="Password"></span>
                </div>

                <div class="d-flex justify-content-between align-items-center mb-4">
                    <div class="form-check">
                        <input asp-for="RememberMe" class="form-check-input" />
                        <label asp-for="RememberMe" class="form-check-label small"></label>
                    </div>
                    <a asp-controller="Account" asp-action="ForgotPassword" class="small">Forgot password?</a>
                </div>

                <button type="submit" class="btn auth-btn w-100 mb-3">Sign In</button>

                <div class="auth-divider my-3 text-center"><span>Or</span></div>

                <div class="d-flex justify-content-center gap-3">
                    <!-- Google -->
                    <a class="social-btn" href="javascript:void(0)" title="Sign in with Google"
                        aria-label="Sign in with Google">
                        <svg viewBox="0 0 48 48">
                            <path fill="#FFC107"
                                d="M43.6 20.5H42v-.1H24v7.2h11.3C33.6 31.9 29.3 35 24 35c-6.6 0-12-5.4-12-12s5.4-12 12-12c3.1 0 5.9 1.2 8 3.1l5.1-5.1C33.9 6.4 29.2 4 24 4 12.9 4 4 12.9 4 24s8.9 20 20 20 19.2-8.9 19.2-20c0-1.3-.1-2.6-.6-3.5z" />
                            <path fill="#FF3D00"
                                d="M6.3 14.7l5.9 4.3C14 15.4 18.7 12 24 12c3.1 0 5.9 1.2 8 3.1l5.1-5.1C33.9 6.4 29.2 4 24 4 16.1 4 9.2 8.5 6.3 14.7z" />
                            <path fill="#4CAF50"
                                d="M24 44c5.2 0 10-2 13.5-5.2l-6.2-4.9C29.3 35 26.8 36 24 36c-5.3 0-9.7-3.1-11.6-7.5l-6.1 4.7C9.2 39.6 16.1 44 24 44z" />
                            <path fill="#1976D2"
                                d="M43.6 20.5H42v-.1H24v7.2h11.3c-1.1 3.3-4 5.7-7.3 6.4l6.2 4.9C37.2 36.9 39.2 31.7 39.2 24c0-1.3-.1-2.6-.6-3.5z" />
                        </svg>
                    </a>
                    <!-- Facebook -->
                    <a class="social-btn social-facebook" href="javascript:void(0)" title="Sign in with Facebook"
                        aria-label="Sign in with Facebook">
                        <i class="bi bi-facebook"></i>
                    </a>
                </div>

                <div class="text-center small mt-3">
                    Don't have an account?
                    <a asp-controller="Account" asp-action="Register">Create one</a>
                </div>

                <div class="text-center small mt-3 pt-3 border-top">
                    <i class="bi bi-person-badge me-1"></i>
                    <a asp-area="Admin" asp-controller="Account" asp-action="Login" class="text-decoration-none">
                        Đăng nhập dành cho nhân viên
                    </a>
                </div>
            </form>
        </div>
    </div>
</section>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    <script>
        // Toggle show/hide password
        document.querySelectorAll('.toggle-pass').forEach(btn => {
            btn.addEventListener('click', () => {
                const input = document.getElementById(btn.dataset.target);
                if (!input) return;
                if (input.type === 'password') { input.type = 'text'; btn.innerHTML = '<i class="bi bi-eye"></i>'; }
                else { input.type = 'password'; btn.innerHTML = '<i class="bi bi-eye-slash"></i>'; }
            });
        });
    </script>
}
